---
name: Medical Domain Final Cleanup
status: open
created: 2025-09-19T12:15:02Z
updated: 2025-09-19T12:31:57Z
github: https://github.com/pupiltree/centuryproptax/issues/16
depends_on: [002, 003, 004]
parallel: true
conflicts_with: []
---

# Task: Medical Domain Final Cleanup

## Description

Complete removal of all remaining medical domain artifacts from the Krishna Diagnostics inheritance, including medical terminology from active code paths, medical-specific test files, and medical environment configurations. This final cleanup ensures the property tax chatbot has no remaining medical dependencies or terminology that could confuse users or create security vulnerabilities.

## Acceptance Criteria

- [ ] All remaining medical test files and mock data removed
- [ ] Medical terminology cleaned from active code paths and variable names
- [ ] Medical-specific environment variables and configurations eliminated
- [ ] Medical database schemas and migration files removed
- [ ] Medical API endpoint documentation cleaned
- [ ] Medical error messages and user prompts removed
- [ ] Medical validation patterns and regex cleaned
- [ ] Property tax chatbot operates without any medical references

## Technical Details

### Primary Removal Targets:
- **Medical Test Files**: Remaining test files with medical scenarios and mock data
- **Medical Terminology**: Variable names, function names, and comments with medical terms
- **Medical Configurations**: Environment variables, API keys, and service configurations
- **Medical Database Elements**: Schema definitions, migration files, and seed data
- **Medical Documentation**: API docs, error messages, and user-facing text

### Search Patterns for Final Cleanup:
- Remaining files and code containing medical keywords (diagnosis, patient, doctor, medical, health, clinic)
- Medical abbreviations and terminology in variable names and functions
- Medical-specific validation patterns and error handling
- Medical database table names and field references
- Medical API documentation and endpoint descriptions

### Code Path Cleanup Scope:
- Remove medical terminology from variable names and function signatures
- Clean medical references from error messages and user prompts
- Update validation patterns to remove medical-specific regex
- Clean medical terms from logging and debugging output
- Remove medical constants and configuration values

### Configuration Final Cleanup:
- Remove medical service API keys and credentials
- Clean medical database connection strings and schemas
- Remove medical-specific rate limiting and quota configurations
- Update application settings to remove medical service references
- Clean medical webhook URLs and callback configurations

### Safety Preservations:
- Maintain all property tax functionality completely intact
- Preserve WhatsApp integration and messaging infrastructure
- Keep shared utilities that don't contain medical terminology
- Maintain database structure for property tax data

## Implementation Steps

1. **Comprehensive Medical Artifact Search**
   - Search entire codebase for remaining medical keywords and terminology
   - Identify medical test files and mock data not removed in previous tasks
   - Map medical environment variables and configuration references

2. **Medical Terminology Cleanup**
   - Replace medical variable names with property tax equivalents
   - Update function names to remove medical references
   - Clean medical terms from comments and documentation strings

3. **Medical Configuration Removal**
   - Remove medical API keys and service credentials from environment files
   - Clean medical database connection strings and schema references
   - Remove medical webhook configurations and callback URLs

4. **Medical Database Cleanup**
   - Remove medical schema definitions and migration files
   - Clean medical seed data and test fixtures
   - Update database initialization to exclude medical tables

5. **Final Validation and Testing**
   - Verify no medical references remain in active code paths
   - Test property tax chatbot functionality after medical cleanup
   - Ensure no broken imports or references to medical services

## Dependencies

**Prerequisites:**
- Tasks 002, 003, 004 must complete voice, image, and Instagram cleanup
- Clear identification of medical artifacts remaining after initial cleanup phases
- Understanding of shared vs medical-specific code components

**Parallel Execution:**
- Can run in parallel with configuration optimization (task 006)
- No conflicts with other tasks as this is pure cleanup

**Critical Considerations:**
- Must preserve property tax functionality completely
- Avoid disruption to WhatsApp integration during terminology cleanup
- Maintain database integrity for property tax data

## Effort Estimate

**Total Time:** 4-6 hours (Day 3 morning)

**Breakdown:**
- Comprehensive medical artifact search and identification: 1-2 hours
- Medical terminology cleanup in code paths: 2-3 hours
- Medical configuration and database cleanup: 1 hour
- Final validation and testing: 1 hour

**Risk Level:** Low - Pure cleanup with minimal functional impact

## Success Criteria

**Functional Validation:**
- Property tax chatbot functions correctly without medical references
- WhatsApp integration operates normally after terminology cleanup
- All 6 property tax tools accessible and functional
- Database operations for property tax data work correctly

**Technical Validation:**
- Zero medical keywords found in active code paths
- No medical environment variables or configurations remain
- Medical test files and mock data completely removed
- Property tax conversation flow works end-to-end

**Quality Gates:**
- Code search for medical terms returns zero results in active files
- Property tax chatbot test suite passes completely
- No broken imports or references after medical cleanup
- Application startup successful without medical service dependencies

## Rollback Procedures

**Git-Based Rollback:**
- Restore medical components from git commit before final cleanup
- Revert terminology changes if property tax functionality breaks
- Restore medical configurations if database issues occur

**Validation Steps:**
- Verify property tax functionality after any rollback
- Confirm database operations work correctly
- Test WhatsApp integration after terminology restoration

**Emergency Procedures:**
- Immediate rollback if property tax chatbot stops functioning
- Staged rollback to isolate terminology vs configuration issues
- Preserve other cleanup progress made in tasks 002-004

## Special Considerations

**Terminology Replacement Strategy:**
- Replace medical terms with property tax equivalents where possible
- Use generic terms (user, query, response) when property tax specifics don't apply
- Maintain consistent naming patterns throughout the codebase

**Database Migration Considerations:**
- Ensure property tax data integrity during medical schema removal
- Maintain foreign key relationships for property tax functionality
- Preserve database performance after medical index removal

**Testing Strategy:**
- Focus testing on property tax functionality after terminology changes
- Validate WhatsApp integration continues working after variable name changes
- Ensure database queries work correctly after medical schema cleanup